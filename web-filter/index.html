<!DOCTYPE HTML>
<html>
	<head>
		<title>Spacebrew True Filter</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="css/reset.css" type="text/css" media="screen" charset="utf-8" />
		<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
		<!-- basic libraries -->
    <script type="text/javascript" src="../jslib/jq-1.7.min.js"></script>
    <script type="text/javascript" src="../jslib/sb-1.4.1.min.js"></script>
<script type="text/javascript">
$(document).ready( function() {
	setup();
});


var myConfig = {
"config": {
 "name": name,
 "description": "This only passes true values.",
 "publish": {
   "messages": [
    {
      "name": "true",
      "type": "boolean",
      "default": true
    }
   ]
 },
 "subscribe": {
   "messages": [
     {
       "name": "value",
       "type": "boolean"
     }
   ]
 }
}
};

var sb;
var setup = function(){
  sb = new Spacebrew.Client(undefined,
                            undefined,
                            "This only passes true values",
                            {debug: true});
  sb.addPublish("true", "boolean", "true");
  sb.addSubscribe("value", "boolean");
  sb.onBooleanMessage = function onBoolean(name, value){
    if (value){
      sb.send("true", "boolean", "true");
    }
  };
  sb.onOpen = function onOpen(){
    console.log("WebSockets connection opened");
    document.getElementById("output").innerHTML = 
      "Send a boolean to be filtered.";
  };
  sb.onClose = function onClose(){
    console.log("WebSockets connection closed");
    document.getElementById("output").innerHTML = 
      "no longer connected to spacebrew :(";
  };

  sb.connect();
};

</script>
		<!-- MAIN -->
	</head>
	<body>
		<h3 id="output">Not Connected to Spacebrew :(</h3>
   </body>
</html>
